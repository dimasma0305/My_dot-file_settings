#!/bin/python

import argparse,sys

loremipsum = '''Lorem ipsum dolor sit amet, consectetur adipiscing elit.'''

def bold(text):
    return '\033[1m' + text + '\033[0m'

def hex2color(hex, text=loremipsum):
    hex = hex.lstrip('#')
    r, g, b = tuple(int(hex[i:i+2], 16) for i in (0, 2, 4))
    return ''.join(('\033[38;2;%d;%d;%dm' % (r, g, b), text, '\033[0m'))

def hex2color_bold(hex, text=loremipsum):
    hex = hex.lstrip('#')
    r, g, b = tuple(int(hex[i:i+2], 16) for i in (0, 2, 4))
    return ''.join(('\033[38;2;%d;%d;%dm' % (r, g, b), bold(text), '\033[0m'))

def color2block(color, length=len(loremipsum)):
    return hex2color(color, 'â–‡' * length)
def color2icon(color):
    return hex2color(color, '''âŒ˜ âœ² âˆ ^ âŒƒ â– â‡ âŒ¥ â‡® â—† â—‡ âœ¦ âœ§ â‡§ â‡ª ğŸ„° ğŸ…° â‡ª â‡¬ â‡­ â†© â†µ â âŒ¤ â† â–¤ â˜° ğŒ† 
â„ â­¾ â†¹ â‡„ â‡¤ â‡¥ â†¤ â†¦ â‹ âŒ« âŸµ âŒ¦ â€ âš âŒ§ â†– â†˜ â‡¤ â‡¥ â¤’ â¤“ â‡ â‡Ÿ â–³ â–½ â–² â–¼ â— 
â˜ â†‘ â†“ â† â†’ â—€ â–¶ â–² â–¼ â— â–· â–³ â–½ â‡¦ â‡¨ â‡§ â‡© â¬… â¡ â¬† â¬‡ â‰ âŠ â™ â° â„¹ ğŸ›ˆ â˜¾ 
â âœ‰ âŒ‚ âœ‚ âœ„ âŒ â†¶ â†· âŸ² âŸ³ â†º â†» ğŸ•¨ ğŸ•© ğŸ•ª â—¼ â¯ â® â­ âœ— âŒ– â¯ â™¼ â™½ â™º â™³ â™´ â™µ''')

def input_parser():
    parser = argparse.ArgumentParser(description='program to convert hex color to color')
    
    parser.add_argument('-b', '--bold', action="store_true")
    parser.add_argument('-l', '--loremipsum', action="store_true")
    
    parser.add_argument('color', type=str, help='<hex>')
    parser.add_argument('-t', '--text')

    return parser

def process_arguments(args, parser):
    if len(sys.argv) == 1:
        parser.print_help()
        sys.exit(1)
    if args.bold:
        print(hex2color_bold(args.color, args.text))
    elif args.loremipsum:
        print(hex2color(args.color, loremipsum))
        print(hex2color_bold(args.color, loremipsum))
        print(color2block(args.color))
        print(color2icon(args.color))
    else:
        print(hex2color(args.color, args.text))

def main():
    parser = input_parser()
    args = parser.parse_args()
    try:
        process_arguments(args, parser)
    except:
        print("something went wrong")
 

if __name__ == '__main__':
    main()